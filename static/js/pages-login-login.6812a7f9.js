(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"18c1":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login",style:"background: url("+t.bgImg[t.imgIndex]+"); background-size: cover;background-repeat:no-repeat; background-position: center;"},[n("v-uni-view",{staticClass:"logo"},[n("v-uni-image",{attrs:{src:"/static/images/log.png"}})],1),n("v-uni-view",{staticClass:"login_from"},[n("v-uni-input",{attrs:{placeholder:"请输入手机号",type:"number",maxlength:"11","placeholder-style":"color: #333"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}}),n("v-uni-view",{staticClass:"codes"},[n("v-uni-input",{attrs:{placeholder:"请输入短信验证码",maxlength:"6",type:"number","placeholder-style":"color: #333"},model:{value:t.smscode,callback:function(e){t.smscode=e},expression:"smscode"}}),n("v-uni-view",{style:{opacity:1==t.isCode?"1":"0.8"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeName))])],1),n("v-uni-view",{staticClass:"login_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onlogin.apply(void 0,arguments)}}},[t._v("登录")])],1),n("v-uni-view",{staticClass:"wxLogin"},[n("v-uni-view",[t._v("—— 快速登录 ——")]),n("v-uni-image",{attrs:{src:"/static/images/wx.png"}}),n("v-uni-button",{attrs:{"open-type":"getUserInfo"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onAuthorize.apply(void 0,arguments)}}})],1)],1)},o=[]},5921:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".login[data-v-32b4ff9d]{height:100%;width:100%;position:fixed;top:0;left:0;transition:all .6s ease-in-out;background-color:#333}.logo uni-image[data-v-32b4ff9d]{height:%?160?%;width:%?160?%;display:block;border-radius:50%;margin:0 auto;margin-top:%?150?%}.login_from[data-v-32b4ff9d]{width:80vw;margin:0 auto;margin-top:10vh}.login_from .codes[data-v-32b4ff9d]{display:flex;align-items:center;align-content:center;justify-content:space-between}.login_from uni-input[data-v-32b4ff9d]{height:%?80?%;line-height:%?80?%;margin-bottom:%?60?%;background-color:hsla(0,0%,100%,.8);box-sizing:border-box;padding:0 %?30?%;border-radius:%?10?%;font-size:%?26?%;color:#333}.codes uni-input[data-v-32b4ff9d]{width:75%}.codes uni-view[data-v-32b4ff9d]{height:%?80?%;line-height:%?80?%;width:%?130?%;margin-bottom:%?60?%;color:#fff;background-color:rgba(70,143,152,.8);text-align:center;font-size:%?24?%;border-radius:%?10?%}.login_btn[data-v-32b4ff9d]{width:%?500?%;height:%?80?%;margin:0 auto;background-color:rgba(70,143,152,.8);margin-top:60px;text-align:center;line-height:%?80?%;border-radius:%?40?%;color:#fff}.login_btn[data-v-32b4ff9d]:active{opacity:.9}.wxLogin[data-v-32b4ff9d]{height:%?200?%;width:%?300?%;display:block;margin:0 auto;border-radius:50%;position:fixed;bottom:5vh;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.wxLogin uni-view[data-v-32b4ff9d]{text-align:center;color:#fff;font-size:%?24?%;margin-bottom:%?20?%}.wxLogin uni-image[data-v-32b4ff9d]{height:%?100?%;width:%?100?%;display:block;z-index:10;margin:0 auto}.wxLogin uni-button[data-v-32b4ff9d]{width:%?100?%!important;height:%?100?%;position:absolute;border-radius:50%;text-align:center;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0;z-index:10;padding:0!important}",""]),t.exports=e},"677d":function(t,e,n){"use strict";var i=n("c2df"),o=n.n(i);o.a},c2df:function(t,e,n){var i=n("5921");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("69d80005",i,!0,{sourceMap:!1,shadowMode:!1})},dcca:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac1f"),n("00b4");var i=n("a2584"),o={data:function(){return{isCanUse:uni.getStorageSync("isCanUse"),nickName:"",avatarUrl:"",bgImg:["https://6d61-matchbox-79a395-1302390714.tcb.qcloud.la/matchbox/img_flower_4.jpg","https://6d61-matchbox-79a395-1302390714.tcb.qcloud.la/matchbox/img_flower_1.jpg","https://6d61-matchbox-79a395-1302390714.tcb.qcloud.la/matchbox/img_flower_3.jpg","https://6d61-matchbox-79a395-1302390714.tcb.qcloud.la/matchbox/img_flower_2.jpg"],imgTime:"",imgIndex:0,codeName:"验证码",isCode:!0,tel:"12345678912",smscode:"123456"}},props:{},onLoad:function(t){},onReady:function(){},onShow:function(){this.setbImg()},onHide:function(){clearInterval(this.imgTime)},onUnload:function(){clearInterval(this.imgTime)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getUserInfo:function(){console.log("点了");var t=this;uni.getUserInfo({provider:"weixin",success:function(e){console.log(e),t.setData({nickName:e.userInfo.nickName,avatarUrl:e.userInfo.avatarUrl});var n=(new Date).getTime();(0,i.setToken)(n),(0,i.setUserInfo)(e.userInfo);try{uni.setStorageSync("isCanUse",1),uni.switchTab({url:"/pages/views/tabBar/home"})}catch(o){console.log("缓存失败")}},fail:function(t){}})},setbImg:function(){clearInterval(this.imgTime);var t=this;console.log("执行了");var e=setInterval((function(){var e=t.imgIndex+1;e>=t.bgImg.length&&(e=0),t.setData({imgIndex:e})}),15e3);this.setData({imgTime:e})},onlogin:function(){var t=(new Date).getTime();(0,i.setToken)(t);(0,i.setUserInfo)({avatarUrl:"/static/images/face.jpg",nickName:"用户2020"}),uni.showLoading({title:"登录中..."}),setTimeout((function(){uni.hideLoading(),uni.showToast({title:"登陆成功"})}),500),setTimeout((function(){uni.navigateBack(-1)}),1500)},getCode:function(){if(0!=this.isCode){if(""!=this.tel)return/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.tel)?void this.getPhoneCode():(uni.showToast({title:"请填写正确手机号码",icon:"none"}),!1);uni.showToast({title:"请输入手机号",icon:"none"})}},getPhoneCode:function(){var t=120,e=this;1==e.isCode&&(uni.showToast({title:"验证码发送成功~",icon:"none"}),clearInterval(""),setInterval((function(){t>=1?(t--,e.codeName=t+"秒重试",e.isCode=!1):(e.isCode=!0,e.codeName="验证码",clearInterval(""))}),1e3))},wxlogin:function(){uni.login({provider:"weixin",success:function(t){console.log("这是用户的code",t)}})},onAuthorize:function(){uni.showToast({title:"对接你的公众号登录方法",icon:"none"})}}};e.default=o},e5219:function(t,e,n){"use strict";n.r(e);var i=n("dcca"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},ee76:function(t,e,n){"use strict";n.r(e);var i=n("18c1"),o=n("e5219");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("677d");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"32b4ff9d",null,!1,i["a"],void 0);e["default"]=r.exports}}]);